<!DOCTYPE html>
<html>
  <head>
    <title><%= content_for(:title) || "Appointment" %></title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Appointment">
    <meta name="mobile-web-app-capable" content="yes">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= yield :head %>

    <link rel="icon" href="/icon.png" type="image/png">
    <link rel="icon" href="/icon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="/icon.png">

    <%= stylesheet_link_tag :app, "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
  </head>

  <body style="
    margin:0;
    min-height:100vh;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    background: linear-gradient(135deg, #0f172a, #020617);
    color:#e5e7eb;
  ">

    <div style="
      max-width:960px;
      margin:0 auto;
      padding:1.25rem;
    ">

      <% if notice.present? %>
        <div style="
          margin:0.75rem 0;
          padding:0.75rem 1rem;
          border-radius:8px;
          background:rgba(74,222,128,0.15);
          color:#4ade80;
          border:1px solid rgba(74,222,128,0.35);
        ">
          <%= notice %>
        </div>
      <% end %>

      <% if alert.present? %>
        <div style="
          margin:0.75rem 0;
          padding:0.75rem 1rem;
          border-radius:8px;
          background:rgba(248,113,113,0.15);
          color:#f87171;
          border:1px solid rgba(248,113,113,0.35);
        ">
          <%= alert %>
        </div>
      <% end %>

      <div style="
        display:flex;
        gap:0.75rem;
        align-items:center;
        margin-bottom:1.5rem;
        flex-wrap:wrap;
      ">
        <% if !user_signed_in? %>
          <%= link_to "Sign In", new_user_session_path, style: "
            padding:0.5rem 0.9rem;
            border-radius:8px;
            border:1px solid #1f2937;
            color:#38bdf8;
            text-decoration:none;
          " %>

          <%= link_to "Sign up", new_user_registration_path, style: "
            padding:0.5rem 0.9rem;
            border-radius:8px;
            border:1px solid #1f2937;
            color:#38bdf8;
            text-decoration:none;
          " %>
        <% else %>
          <%= button_to "Sign Out", destroy_user_session_path, method: :delete, style: "
            padding:0.5rem 0.9rem;
            border-radius:8px;
            background:rgba(248,113,113,0.15);
            border:1px solid rgba(248,113,113,0.4);
            color:#f87171;
            cursor:pointer;
          " %>

          <%= link_to "Rooms", rooms_path, style: "
            padding:0.5rem 0.9rem;
            border-radius:8px;
            border:1px solid #1f2937;
            color:#38bdf8;
            text-decoration:none;
          " %>

          <%= link_to "Bookings", bookings_path, style: "
            padding:0.5rem 0.9rem;
            border-radius:8px;
            border:1px solid #1f2937;
            color:#38bdf8;
            text-decoration:none;
          " %>
        <% end %>
      </div>

      <div style="
        background:rgba(255,255,255,0.03);
        border:1px solid #1f2937;
        border-radius:12px;
        padding:1.5rem;
        box-shadow:0 10px 30px rgba(0,0,0,0.35);
      ">
        <%= yield %>
      </div>

    </div>
  </body>
</html>
